Script started on 2025-11-23 06:48:52+00:00 [TERM="xterm-256color" TTY="/dev/pts/5" COLUMNS="80" LINES="28"]
[?2004h]0;seed@seedvm2004: ~/Downloads/edited[01;32mseed@seedvm2004[00m:[01;34m~/Downloads/edited[00m$ [7m./test_fs_dirs.sh[27m./test_fs_dirs.sh
[?2004l=========== FS_DIRS TESTS BEGIN ===========

1) Starting disk_server on port 5600 ...
[disk_server] port=5600 geom=32x32 track=1000us file=fs_dirs_test_disk.img
2) Starting fs_server on port 5601 ...
[fs_server] listening on 5601; disk=127.0.0.1:5600

3) Format filesystem using fs_cli (F):
0

4) Basic mkdir / cd / pwd sequence:
Connected to fs_server at 127.0.0.1:5601
Type 'help' for a list of commands.
fs:/$ /
fs:/$ fs:/$ fs:/foo$ /foo
fs:/foo$ mkdir: unexpected response: 
fs:/foo$ fs:/foo/bar$ /foo/bar
fs:/foo/bar$ fs:/$ /
fs:/$ 
5) mkdir existing directory (expect error on second mkdir foo):
Connected to fs_server at 127.0.0.1:5601
Type 'help' for a list of commands.
fs:/$ mkdir: '/foo' already exists
fs:/$ mkdir: '/foo' already exists
fs:/$ 
6) rmdir non-empty directory (expect 'not empty' error):
Connected to fs_server at 127.0.0.1:5601
Type 'help' for a list of commands.
fs:/$ rmdir: unexpected response: foo/bar/
fs:/$ 
7) Remove nested directory, then parent (expect both rmdir to succeed):
Connected to fs_server at 127.0.0.1:5601
Type 'help' for a list of commands.
fs:/$ fs:/foo$ rmdir: unexpected response: foo/
fs:/foo$ cd: unexpected response: foo/bar/
fs:/foo$ rmdir: '/foo/foo' does not exist (race)
fs:/foo$ /foo
fs:/foo$ 
8) cd into non-existent directory (expect error):
Connected to fs_server at 127.0.0.1:5601
Type 'help' for a list of commands.
fs:/$ cd: '/does_not_exist' does not exist
fs:/$ /
fs:/$ 
=========== FS_DIRS TESTS COMPLETE ==========

Cleaning up...
[?2004h]0;seed@seedvm2004: ~/Downloads/edited[01;32mseed@seedvm2004[00m:[01;34m~/Downloads/edited[00m$ exit
[?2004lexit

Script done on 2025-11-23 06:49:39+00:00 [COMMAND_EXIT_CODE="0"]
